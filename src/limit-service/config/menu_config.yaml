# Menu configuration for db-sentry limit service
# Supports nested menus, dynamic content, checkboxes, and editable values

menus:
  main:
    items:
      - text: "1. Network"
        type: submenu
        submenu: network
      - text: "2. System"
        type: submenu
        submenu: system
      - text: "3. Settings"
        type: submenu
        submenu: settings

  network:
    items:
      - text: "AP: {wifi_ssid}"
        type: dynamic
        function: get_wifi_ssid
        refresh: on_navigate  # Only refresh when entering menu
      - text: "IP: {ip_address}"
        type: dynamic
        function: get_ip_address
        refresh: on_navigate
      - text: "Back"
        type: back

  system:
    items:
      - text: "Uptime: {uptime}"
        type: dynamic
        function: get_uptime
        refresh: 1  # Refresh every 1 second
      - text: "Service: {service_status}"
        type: dynamic
        function: get_service_status
        refresh: on_navigate
      - text: "Load: {load_average}"
        type: dynamic
        function: get_load_average
        refresh: 2  # Refresh every 2 seconds
      - text: "Back"
        type: back

  settings:
    items:
      - text: "1. Orientation"
        type: submenu
        submenu: orientation
      - text: "2. Brightness"
        type: submenu
        submenu: brightness
      - text: "Back"
        type: back

  orientation:
    items:
      - text: "Knob left {orientation_left_check}"
        type: checkbox
        group: orientation
        value: left
        function: set_orientation_left
      - text: "Knob right {orientation_right_check}"
        type: checkbox
        group: orientation
        value: right
        function: set_orientation_right
      - text: "Back"
        type: back

  brightness:
    items:
      - text: "1. Display"
        type: submenu
        submenu: brightness_display
      - text: "2. LEDs"
        type: submenu
        submenu: brightness_leds
      - text: "Back"
        type: back

  brightness_display:
    items:
      - text: "Level: {display_brightness}"
        type: editable
        value_type: numeric
        min: 0
        max: 255
        function: set_display_brightness
      - text: "Back"
        type: back

  brightness_leds:
    items:
      - text: "Level: {led_brightness}"
        type: editable
        value_type: numeric
        min: 0
        max: 255
        function: set_led_brightness
      - text: "Back"
        type: back
